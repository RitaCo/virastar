/*! For license information please see bundle.js.LICENSE.txt */
!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);n(1);var o,r,i,s,a=n(2),l=n(3),c=n(4),u=n(5),f=n(6);o=window,s={settings:void 0,storage:"undefined"!=typeof Storage,input:document.getElementById("input"),output:document.getElementById("output"),download:document.getElementById("download"),reset:document.getElementById("settings-reset"),modal:document.getElementById("modal-diff"),options:{},debounce:function(e,t){var n=null;return function(){var o=this,r=arguments;clearTimeout(n),n=setTimeout((function(){e.apply(o,r)}),t)}},toProperCase:function(e){return e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))},downloadText:function(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)},renderSettings:function(e){var t=this.getStorage(this.options,"options"),n=document.getElementById("options");for(var o in n.innerHTML="",e){var r=document.createElement("li"),i=document.createElement("input"),s=document.createElement("label"),a=this.toProperCase(o.replace(new RegExp(/_/,"g")," "));i.type="checkbox",i.checked=t.hasOwnProperty(o)?t[o]:e[o],i.name="opt[]",i.value=o,i.id=o,i.setAttribute("class","option"),s.htmlFor=o,s.appendChild(document.createTextNode(a)),r.appendChild(i),r.appendChild(s),n.appendChild(r)}this.settings=document.querySelectorAll(".option")},getStorage:function(e,t){if(!this.storage)return e;var n=o.localStorage.getItem(t);return n?JSON.parse(n):e},setStorage:function(e,t){this.storage&&o.localStorage.setItem(t,JSON.stringify(e))},removeStorage:function(e){this.storage&&o.localStorage.removeItem(e)},getOptions:function(){var e={};return this.settings.forEach((function(t){e[t.value]=t.checked})),e},doVirastar:function(e,t){this.output.innerHTML=r.cleanup(e,t)},doChange:function(){var e=this.input.value,t=this.getOptions();this.doVirastar(e,t),this.setStorage(t,"options"),this.setStorage(e,"text"),f.reset()},doDownload:function(){var e=this.input.value,t=this.getOptions();this.downloadText("virastar.txt",r.cleanup(e,t))},renderDiff:function(){var e=c.diffChars(this.input.value,this.output.value,{ignoreWhitespace:!1}),t=document.createDocumentFragment(),n=document.createElement("pre"),o=new RegExp(/[^\n]/,"g"),r=null,i="";return e.forEach((function(e){if(r=document.createElement("span"),i=e.added?"-added":e.removed?"-removed":"-none",r.classList.add(i),e.removed){if(!o.test(e.value))return;e.value=e.value.replace(/\n/g,"")}"‌"===e.value&&(r.classList.add("-zwnj"),e.value="⋅"),r.appendChild(document.createTextNode(e.value)),t.appendChild(r)})),n.appendChild(t),n},init:function(){var e=this;r=new a(this.options),this.input.addEventListener("keyup",this.debounce((function(){e.doChange()}),1e3)),this.download.addEventListener("click",(function(t){t.preventDefault(),e.doDownload()})),this.reset.addEventListener("click",(function(t){t.preventDefault(),e.removeStorage("options"),e.initSettings(),e.doChange()})),this.initSettings(),this.initVirastar(),this.initClipboard(),this.initModal(),f.reset()},initSettings:function(){var e=this;this.renderSettings(r.defaults),this.settings.forEach((function(t){t.addEventListener("change",(function(){e.doChange()}))}))},initVirastar:function(){var e=this.input.value,t=this.getStorage(e,"text"),n=this.getOptions();t.trim()?(this.input.value=t,this.doVirastar(t,n)):this.doVirastar(e,n)},initClipboard:function(){new l(".copy").on("error",(function(e){console.log(e)}))},initModal:function(){var e=this;i=new u.modal({closeLabel:"بستن",cssClass:["wrapper-diff"],beforeOpen:function(){i.setContent("بارگیری&hellip;")},onOpen:function(){i.setContent(e.renderDiff())}}),this.modal.addEventListener("click",(function(e){e.preventDefault(),i.open()}))}},o.onload=function(){s.init(),o.applicationCache.addEventListener("updateready",(function(e){o.applicationCache.status===o.applicationCache.UPDATEREADY&&confirm("نگارش تازه‌تری از ویراستار در دسترس است. بارگیری دوباره؟")&&o.location.reload()}),!1)}},function(e,t,n){},function(e,t,n){e.exports=function(){function e(n,o){if(!(this instanceof e))return new e(n,o);if("object"==typeof(n=n||{}))this.opts=t(n);else if("string"==typeof n)return this.opts=t(o||{}),c(n);return this}function t(e){var t=Object.assign({},s);for(var n in t)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function n(e,t,n){var r=t.split(""),i=n.split("");for(var s in r)e=e.replace(o(r[s]),i[s]);return e}function o(e,t){return new RegExp(e,t||"g")}var r="ءاآأإئؤبپتثجچحخدذرزژسشصضطظعغفقکگلمنوهیةيك",i="\\s.,;،؛!؟?\"'()[\\]{}“”«»",s={cleanup_begin_and_end:!0,cleanup_extra_marks:!0,cleanup_kashidas:!0,cleanup_line_breaks:!0,cleanup_rlm:!0,cleanup_spacing:!0,cleanup_zwnj:!0,decode_htmlentities:!0,fix_arabic_numbers:!0,fix_dashes:!0,fix_diacritics:!0,fix_english_numbers:!0,fix_english_quotes_pairs:!0,fix_english_quotes:!0,fix_hamzeh:!0,fix_hamzeh_arabic:!1,fix_misc_non_persian_chars:!0,fix_misc_spacing:!0,fix_numeral_symbols:!0,fix_perfix_spacing:!0,fix_persian_glyphs:!0,fix_punctuations:!0,fix_question_mark:!0,fix_spacing_for_braces_and_quotes:!0,fix_spacing_for_punctuations:!0,fix_suffix_misc:!0,fix_suffix_spacing:!0,fix_three_dots:!0,kashidas_as_parenthetic:!0,markdown_normalize_braces:!0,markdown_normalize_lists:!0,normalize_dates:!0,normalize_ellipsis:!0,normalize_eol:!0,preserve_braces:!1,preserve_brackets:!1,preserve_comments:!0,preserve_entities:!0,preserve_frontmatter:!0,preserve_HTML:!0,preserve_nbsps:!0,preserve_URIs:!0,remove_diacritics:!1,skip_markdown_ordered_lists_numbers_conversion:!1},a={"sbquo;":"‚","lsquo;":"‘","lsquor;":"‚","ldquo;":"“","ldquor;":"„","rdquo;":"”","rdquor;":"”","rsquo;":"’","rsquor;":"’","apos;":"'","QUOT;":'"',QUOT:'"',"quot;":'"',quot:'"',"zwj;":"‍","ZWNJ;":"‌","zwnj;":"‌","shy;":"­"},l={"‌ه":"ﻫ","ی‌":"ﻰﻲ","ﺃ":"ﺄﺃ","ﺁ":"ﺁﺂ","ﺇ":"ﺇﺈ","ا":"ﺎا","ب":"ﺏﺐﺑﺒ","پ":"ﭖﭗﭘﭙ","ت":"ﺕﺖﺗﺘ","ث":"ﺙﺚﺛﺜ","ج":"ﺝﺞﺟﺠ","چ":"ﭺﭻﭼﭽ","ح":"ﺡﺢﺣﺤ","خ":"ﺥﺦﺧﺨ","د":"ﺩﺪ","ذ":"ﺫﺬ","ر":"ﺭﺮ","ز":"ﺯﺰ","ژ":"ﮊﮋ","س":"ﺱﺲﺳﺴ","ش":"ﺵﺶﺷﺸ","ص":"ﺹﺺﺻﺼ","ض":"ﺽﺾﺿﻀ","ط":"ﻁﻂﻃﻄ","ظ":"ﻅﻆﻇﻈ","ع":"ﻉﻊﻋﻌ","غ":"ﻍﻎﻏﻐ","ف":"ﻑﻒﻓﻔ","ق":"ﻕﻖﻗﻘ","ک":"ﮎﮏﮐﮑﻙﻚﻛﻜ","گ":"ﮒﮓﮔﮕ","ل":"ﻝﻞﻟﻠ","م":"ﻡﻢﻣﻤ","ن":"ﻥﻦﻧﻨ","ه":"ﻩﻪﻫﻬ","هٔ":"ﮤﮥ","و":"ﻭﻮ","ﺅ":"ﺅﺆ","ی":"ﯼﯽﯾﯿﻯﻰﻱﻲﻳﻴ","ئ":"ﺉﺊﺋﺌ","لا":"ﻼ","ﻹ":"ﻺ","ﻷ":"ﻸ","ﻵ":"ﻶ"};function c(e,s){if("string"!=typeof e)throw new TypeError("Expected a String, but received "+typeof e);if(!e.trim())return e;var a=s?t(s):this.opts;if(e=" "+e+" ",a.preserve_frontmatter){var c=[];e=e.replace(/^ ---[\S\s]*?---\n/g,(function(e){return c.push(e)," __FRONTMATTER__PRESERVER__ "}))}if(a.preserve_HTML){var p=[];e=e.replace(/<\/?[a-z][^>]*?>/gi,(function(e){return p.push(e)," __HTML__PRESERVER__ "}))}if(a.preserve_comments){var h=[];e=e.replace(/<!--[\s\S]*?-->/g,(function(e){return h.push(e)," __COMMENT__PRESERVER__ "}))}if(a.preserve_brackets){var m=[];e=e.replace(/(\[.*?\])/g,(function(e){return m.push(e)," __BRACKETS__PRESERVER__ "}))}if(a.preserve_braces){var g=[];e=e.replace(/(\{.*?\})/g,(function(e){return g.push(e)," __BRACES__PRESERVER__ "}))}if(a.preserve_URIs){var v=[],_=[];e=(e=e.replace(/]\((.*?)\)/g,(function(e,t){return t?(v.push(t.trim()),"](__MD_LINK__PRESERVER__)"):e}))).replace(o("([A-Za-z][A-Za-z0-9+\\-.]*):(?:(//)(?:((?:[A-Za-z0-9\\-._~!$&'()*+,;=:]|%[0-9A-Fa-f]{2})*)@)?((?:\\[(?:(?:(?:(?:[0-9A-Fa-f]{1,4}:){6}|::(?:[0-9A-Fa-f]{1,4}:){5}|(?:[0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){4}|(?:(?:[0-9A-Fa-f]{1,4}:){0,1}[0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){3}|(?:(?:[0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){2}|(?:(?:[0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})?::[0-9A-Fa-f]{1,4}:|(?:(?:[0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})?::)(?:[0-9A-Fa-f]{1,4}:[0-9A-Fa-f]{1,4}|(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?))|(?:(?:[0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})?::[0-9A-Fa-f]{1,4}|(?:(?:[0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})?::)|[Vv][0-9A-Fa-f]+\\.[A-Za-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)|(?:[A-Za-z0-9\\-._~!$&'()*+,;=]|%[0-9A-Fa-f]{2})*))(?::([0-9]*))?((?:/(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})*)*)|/((?:(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})+(?:/(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})*)*)?)|((?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})+(?:/(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})*)*)|)(?:\\?((?:[A-Za-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9A-Fa-f]{2})*))?(?:\\#((?:[A-Za-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9A-Fa-f]{2})*))?"),(function(e){return _.push(e)," __URI__PRESERVER__ "}))}if(a.preserve_nbsps){var y=[];e=e.replace(/&nbsp;|&#160;/gi,(function(e){return y.push(e)," __NBSPS__PRESERVER__ "}))}if(a.decode_htmlentities&&(e=u(e)),a.preserve_entities){var b=[];e=e.replace(/&(#?[^;\W]+;?)/g,(function(e){return b.push(e)," __ENTITIES__PRESERVER__ "}))}return a.normalize_eol&&(e=function(e){return e.replace(/(\r?\n)|(\r\n?)/g,"\n")}(e)),a.fix_persian_glyphs&&(e=function(e){return function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e=e.replace(o("["+t[n]+"]"),n));return e}(e,l)}(e)),a.fix_dashes&&(e=function(e){return e.replace(/-{3}/g,"—").replace(/-{2}/g,"–")}(e)),a.fix_three_dots&&(e=f(e)),a.normalize_ellipsis&&(e=d(e)),a.fix_english_quotes_pairs&&(e=function(e){return e.replace(/(“)(.+?)(”)/g,"«$2»")}(e)),a.fix_english_quotes&&(e=function(e){return e.replace(/(["'`]+)(.+?)(\1)/g,"«$2»")}(e)),a.fix_hamzeh?(a.fix_hamzeh_arabic&&(e=function(e){return e.replace(/(\S)ة([\s\u200c\u200e])/g,"$1هٔ$2")}(e)),e=function(e){return e.replace(/(\S)(ه[\s\u200c\u200e]+[یي])([\s\u200c\u200e])/g,"$1هٔ$3").replace(/(\S)(ه[\s\u200c\u200e]?\u0621)([\s\u200c\u200e])/g,"$1هٔ$3").replace(/(ۀ|هٓ)/g,"هٔ")}(e)):a.fix_suffix_spacing&&(a.fix_hamzeh_arabic&&(e=function(e){return e.replace(/(\S)ة([\s\u200c\u200e])/g,"$1ه‌ی$2")}(e)),e=function(e){return e.replace(/(\S)(ه[\s\u200c]+[یي])([\s\u200c])/g,"$1ه‌ی$3").replace(/(\S)(ه[\s\u200c]?\u0621)([\s\u200c])/g,"$1ه‌ی$3").replace(/(\S)(ه[\s\u200c]?\u0654)([\s\u200c])/g,"$1ه‌ی$3")}(e)),a.cleanup_rlm&&(e=function(e){return e.replace(/([^a-zA-Z\-_])(\u200F)/g,"$1‌")}(e)),a.cleanup_zwnj&&(e=function(e){return e.replace(/\u00ad/g,"‌").replace(/\u200c{2,}/g,"‌").replace(/\u200c([\w\s0-9۰-۹[\](){}«»“”.…,:;?!$%@#*=+\-/\\،؛٫٬×٪؟ـ])/g,"$1").replace(/([\w\s0-9۰-۹[\](){}«»“”.…,:;?!$%@#*=+\-/\\،؛٫٬×٪؟ـ])\u200c/g,"$1").replace(/(^\u200c|\u200c$)/gm,"")}(e)),a.fix_arabic_numbers&&(e=function(e){return n(e,"١٢٣٤٥٦٧٨٩٠","۱۲۳۴۵۶۷۸۹۰")}(e)),e=e.replace(/(^|\s+)([[({"'“«]?)(\S+)([\])}"'”»]?)(?=($|\s+))/g,(function(e,t,o,r,i,s){return r.match(/[a-zA-Z\-_]{2,}/g)||r.match(/%(?:\d+\$)?[+-]?(?:[ 0]|'.{1})?-?\d*(?:\.\d+)?[bcdeEufFgGosxX]/g)||r.match(/&#\d+;/g)||a.skip_markdown_ordered_lists_numbers_conversion&&(e+i+s).match(/(?:(?:\r?\n)|(?:\r\n?)|(?:^|\n))\d+\.\s/)||(a.fix_english_numbers&&(e=function(e){return n(e,"1234567890","۱۲۳۴۵۶۷۸۹۰")}(e)),a.fix_numeral_symbols&&(e=function(e){return e.replace(/([۰-۹]) ?%/g,"$1٪").replace(/([۰-۹])\.(?=[۰-۹])/g,"$1٫").replace(/([۰-۹]),(?=[۰-۹])/g,"$1٬")}(e)),a.fix_punctuations&&(e=function(e){return n(e,",;","،؛")}(e)),a.fix_misc_non_persian_chars&&(e=function(e){return n(e,"كڪيىۍېہە","ککییییههه")}(e)),a.fix_question_mark&&(e=function(e){return e.replace(/(\?)/g,"؟")}(e))),e})),a.normalize_dates&&(e=function(e){return e.replace(/([0-9۰-۹]{1,2})([/-])([0-9۰-۹]{1,2})\2([0-9۰-۹]{4})/g,(function(e,t,n,o,r){return r+"/"+o+"/"+t}))}(e)),a.fix_perfix_spacing&&(e=function(e){return e.replace(/((\s|^)ن?می) ([^ ])/g,"$1‌$3").replace(/((\s|^)بی) ([^ ])/g,"$1‌$3")}(e)),a.fix_suffix_spacing&&(e=function(e){return e.replace(o("(["+r+"ًٌٍَُِّْ]) (ها(ی)?["+i+"])"),"$1‌$2").replace(o("(["+r+"ًٌٍَُِّْ]) ((ام|ات|اش|ای|اید|ایم|اند|مان|تان|شان)["+i+"])"),"$1‌$2").replace(o("(["+r+"ًٌٍَُِّْ]) (تر((ی)|(ین))?["+i+"])"),"$1‌$2").replace(o("(["+r+"ًٌٍَُِّْ]) ((هایی|هایم|هایت|هایش|هایمان|هایتان|هایشان)["+i+"])"),"$1‌$2")}(e)),a.fix_suffix_misc&&(e=function(e){return e.replace(/(\S)ه[\u200c\u200e][ئی]ی([\s\u200c\u200e])/g,"$1ه‌ای$2")}(e)),a.fix_spacing_for_braces_and_quotes&&(e=function(e){return e.replace(/[ \t\u200c]*(\()\s*([^)]+?)\s*?(\))[ \t\u200c]*/g," $1$2$3 ").replace(/[ \t\u200c]*(\[)\s*([^\]]+?)\s*?(\])[ \t\u200c]*/g," $1$2$3 ").replace(/[ \t\u200c]*(\{)\s*([^}]+?)\s*?(\})[ \t\u200c]*/g," $1$2$3 ").replace(/[ \t\u200c]*(“)\s*([^”]+?)\s*?(”)[ \t\u200c]*/g," $1$2$3 ").replace(/[ \t\u200c]*(«)\s*([^»]+?)\s*?(»)[ \t\u200c]*/g," $1$2$3 ")}(e)),a.cleanup_extra_marks&&(e=function(e){return e.replace(/([؟?!])([ ]+)(?=[؟?!])/g,"$1").replace(/(!){2,}/g,"$1").replace(/(\u061F|\?){2,}/g,"$1").replace(/(!)([ \t]*)([\u061F?])/g,"$3$1")}(e)),a.fix_spacing_for_punctuations&&(e=function(e){return e.replace(/[ \t\u200c]*([:;,؛،.؟?!]{1})/g,"$1").replace(/([:;,؛،.؟?!]{1})[ \t\u200c]*(?!\n|_{2})/g,"$1 ").replace(/([0-9۰-۹]+):\s+([0-9۰-۹]+)/g,"$1:$2").replace(/([0-9۰-۹]+)\. ([0-9۰-۹]+)/g,"$1.$2").replace(/([\w\-_]+)\. (ir|com|org|net|info|edu|me)([\s/\\\])»:;.])/g,"$1.$2$3").replace(/([؟?!])([ ]+)(?=[؟?!])/g,"$1")}(e)),a.kashidas_as_parenthetic&&(e=function(e){return e.replace(/(\s)\u0640+/g,"$1–").replace(/\u0640+(\s)/g,"–$1")}(e)),a.cleanup_kashidas&&(e=function(e){return e.replace(/([0-9۰-۹]+)ـ+([0-9۰-۹]+)/g,"$1–$2").replace(/([^\s.])\u0640+(?![\s.])/g,"$1")}(e)),a.markdown_normalize_braces&&(e=function(e){return e.replace(/! (\[.*?\])[ ]?(\(.*?\))[ ]?/g,"!$1$2").replace(/(\[.*?\])[ \t]+(\(.*?\))/g,"$1$2").replace(/\(\([ \t]*(.*?)[ \t]*\)\)/g,"(($1))").replace(/\[\[[ \t]*(.*?)[ \t]*\]\]/g,"[[$1]]").replace(/\{\{[ \t]*(.*?)[ \t]*\}\}/g,"{{$1}}").replace(/\{\{\{[ \t]*(.*?)[ \t]*\}\}\}/g,"{{{$1}}}").replace(/(\(\(.*\))[ \t]+(\))/g,"$1$2").replace(/(\[\[.*\])[ \t]+(\])/g,"$1$2").replace(/(\{\{.*\})[ \t]+(\})/g,"$1$2")}(e)),a.markdown_normalize_lists&&(e=function(e){return e.replace(/((\n|^)\*.*?)\n+(?=\n\*)/g,"$1").replace(/((\n|^)-.*?)\n+(?=\n-)/g,"$1").replace(/((\n|^)#.*?)\n+(?=\n#)/g,"$1")}(e)),a.fix_spacing_for_braces_and_quotes&&(e=function(e){return e.replace(/(\()\s*([^)]+?)\s*?(\))/g,"$1$2$3").replace(/(\[)\s*([^\]]+?)\s*?(\])/g,"$1$2$3").replace(/(\{)\s*([^}]+?)\s*?(\})/g,"$1$2$3").replace(/(“)\s*([^”]+?)\s*?(”)/g,"$1$2$3").replace(/(«)\s*([^»]+?)\s*?(»)/g,"$1$2$3").replace(/(\(\[.*?\]\(.*?\))\s+(\))/g,"$1$2")}(e)),a.fix_misc_spacing&&(e=function(e){return e.replace(/ \((ص|عج|س|ع|ره)\)/g,"($1)").replace(/ \[([0-9۰-۹]+)\]/g,"[$1]")}(e)),a.remove_diacritics?e=function(e){return e.replace(o("[ًٌٍَُِّْ]+"),"")}(e):a.fix_diacritics&&(e=function(e){return e.replace(o("‌([ًٌٍَُِّْ])"),"$1").replace(o("(.*)([ًٌٍَُِّْ]){2,}(.*)"),"$1$2$3").replace(o("(\\S)[ ]+([ًٌٍَُِّْ])"),"$1$2")}(e)),a.cleanup_spacing&&(e=function(e){return e.replace(/([^_])([ ]{2,})(?![_]{2}|\n)/g,"$1 ").replace(/\n[\s\u200c]*\n/g,"\n\n")}(e)),a.cleanup_zwnj&&(e=function(e){return e.replace(/([إأةؤورزژاآدذ،؛,:«»\\/@#$٪×*()ـ\-=|])\u200c/g,"$1")}(e)),a.cleanup_line_breaks&&(e=function(e){return e.replace(/\n{2,}/g,"\n\n")}(e)),a.preserve_entities&&(e=e.replace(/[ ]?__ENTITIES__PRESERVER__[ ]?/g,(function(){return b.shift()}))),a.preserve_nbsps&&(e=e.replace(/[ ]?__NBSPS__PRESERVER__[ ]?/g,(function(){return y.shift()}))),a.preserve_URIs&&(e=(e=e.replace(/__MD_LINK__PRESERVER__/g,(function(){return v.shift()}))).replace(/[ ]?__URI__PRESERVER__[ ]?/g,(function(){return _.shift()}))),a.preserve_braces&&(e=e.replace(/[ ]?__BRACES__PRESERVER__[ ]?/g,(function(){return g.shift()}))),a.preserve_brackets&&(e=e.replace(/[ ]?__BRACKETS__PRESERVER__[ ]?/g,(function(){return m.shift()}))),a.preserve_comments&&(e=e.replace(/[ ]?__COMMENT__PRESERVER__[ ]?/g,(function(){return h.shift()}))),a.preserve_HTML&&(e=e.replace(/[ ]?__HTML__PRESERVER__[ ]?/g,(function(){return p.shift()}))),a.preserve_frontmatter&&(e=e.replace(/[ ]?__FRONTMATTER__PRESERVER__[ ]?/g,(function(){return c.shift()}))),e=a.cleanup_begin_and_end?function(e){return e.replace(/([\n]+)[ \t\u200c\u00a0]*/g,"$1").replace(/^[\s\u200c\u200e\u200f]+|[\s\u200c\u200e\u200f]+$/g,"")}(e):e.replace(/^[ ]/g,"").replace(/[ ]$/g,"")}function u(e){return e.replace(/&(#?[^;\W]+;?)/g,(function(e,t){var n;if(n=/^#(\d+);?$/.exec(t))return String.fromCharCode(parseInt(n[1],10));if(n=/^#[Xx]([A-Fa-f0-9]+);?/.exec(t))return String.fromCharCode(parseInt(n[1],16));var o=/;$/.test(t),r=o?t.replace(/;$/,""):t,i=a[r]||o&&a[t];return"number"==typeof i?String.fromCharCode(i):"string"==typeof i?i:"&"+t}))}function f(e){return e.replace(/\.([ ]+)(?=[.])/g,".").replace(/[ \t]*\.{3,}/g,"…")}function d(e){return e.replace(/(…){2,}/g,"…").replace(/([ ]{1,})*…[ \t\u200c]*/g,"$1… ")}return e.prototype={defaults:s,cleanup:c,convertPersianNumbers:function(e){return e.replace(/[\u0660-\u0669\u06f0-\u06f9]/g,(function(e){return 15&e.charCodeAt(0)}))},flipPunctuations:function(e){var t=["-"],n=["!",".","،","…",'"'],r=[],i=[];e=f(e);for(var s=0;s<n.length;s++){var a=n[s],l=o("^\\"+a,"i");l.test(e)&&(e=e.replace(l,"").trim(),i.push(a))}for(var c=0;c<t.length;c++){var u=t[c],p=o("\\"+u+"$","i");p.test(e)&&(e=e.replace(p,"").trim(),r.push(u))}for(var h=0;h<r.length;h++)e=r[h]+" "+e;for(var m=0;m<i.length;m++)e+=i[m];return d(e)},swapQuotes:function(e){return e.replace(/(»)(.+?)(«)/g,"«$2»").replace(/(”)(.+?)(“)/g,"“$2”")}},e}()},function(e,t,n){var o;o=function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var o=window.getSelection(),r=document.createRange();r.selectNodeContents(e),o.removeAllRanges(),o.addRange(r),t=o.toString()}return t}},function(e,t){function n(){}n.prototype={on:function(e,t,n){var o=this.e||(this.e={});return(o[e]||(o[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var o=this;function r(){o.off(e,r),t.apply(n,arguments)}return r._=t,this.on(e,r,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),o=0,r=n.length;o<r;o++)n[o].fn.apply(n[o].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),o=n[e],r=[];if(o&&t)for(var i=0,s=o.length;i<s;i++)o[i].fn!==t&&o[i].fn._!==t&&r.push(o[i]);return r.length?n[e]=r:delete n[e],this}},e.exports=n,e.exports.TinyEmitter=n},function(e,t,n){var o=n(3),r=n(4);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!o.string(t))throw new TypeError("Second argument must be a String");if(!o.fn(n))throw new TypeError("Third argument must be a Function");if(o.node(e))return function(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}(e,t,n);if(o.nodeList(e))return function(e,t,n){return Array.prototype.forEach.call(e,(function(e){e.addEventListener(t,n)})),{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(t,n)}))}}}(e,t,n);if(o.string(e))return function(e,t,n){return r(document.body,e,t,n)}(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},function(e,t,n){var o=n(5);function r(e,t,n,o,r){var s=i.apply(this,arguments);return e.addEventListener(n,s,r),{destroy:function(){e.removeEventListener(n,s,r)}}}function i(e,t,n,r){return function(n){n.delegateTarget=o(n.target,t),n.delegateTarget&&r.call(e,n)}}e.exports=function(e,t,n,o,i){return"function"==typeof e.addEventListener?r.apply(null,arguments):"function"==typeof n?r.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return r(e,t,n,o,i)})))}},function(e,t){if("undefined"!=typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(t),this.initSelection()}return s(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=r()(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=r()(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":i(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}(),l=n(1),c=n.n(l),u=n(2),f=n.n(u),d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),h=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.resolveOptions(n),o.listenClick(e),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),p(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===d(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=f()(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new a({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return m("action",e)}},{key:"defaultTarget",value:function(e){var t=m("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return m("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach((function(e){n=n&&!!document.queryCommandSupported(e)})),n}}]),t}(c.a);function m(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}t.default=h}]).default},e.exports=o()},function(e,t,n){!function(e){"use strict";function t(){}function n(e,t,n,o,r){for(var i=0,s=t.length,a=0,l=0;i<s;i++){var c=t[i];if(c.removed){if(c.value=e.join(o.slice(l,l+c.count)),l+=c.count,i&&t[i-1].added){var u=t[i-1];t[i-1]=t[i],t[i]=u}}else{if(!c.added&&r){var f=n.slice(a,a+c.count);f=f.map((function(e,t){var n=o[l+t];return n.length>e.length?n:e})),c.value=e.join(f)}else c.value=e.join(n.slice(a,a+c.count));a+=c.count,c.added||(l+=c.count)}}var d=t[s-1];return s>1&&"string"==typeof d.value&&(d.added||d.removed)&&e.equals("",d.value)&&(t[s-2].value+=d.value,t.pop()),t}function o(e){return{newPos:e.newPos,components:e.components.slice(0)}}t.prototype={diff:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.callback;"function"==typeof r&&(i=r,r={}),this.options=r;var s=this;function a(e){return i?(setTimeout((function(){i(void 0,e)}),0),!0):e}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e));var l=(t=this.removeEmpty(this.tokenize(t))).length,c=e.length,u=1,f=l+c,d=[{newPos:-1,components:[]}],p=this.extractCommon(d[0],t,e,0);if(d[0].newPos+1>=l&&p+1>=c)return a([{value:this.join(t),count:t.length}]);function h(){for(var r=-1*u;r<=u;r+=2){var i=void 0,f=d[r-1],p=d[r+1],h=(p?p.newPos:0)-r;f&&(d[r-1]=void 0);var m=f&&f.newPos+1<l,g=p&&0<=h&&h<c;if(m||g){if(!m||g&&f.newPos<p.newPos?(i=o(p),s.pushComponent(i.components,void 0,!0)):((i=f).newPos++,s.pushComponent(i.components,!0,void 0)),h=s.extractCommon(i,t,e,r),i.newPos+1>=l&&h+1>=c)return a(n(s,i.components,t,e,s.useLongestToken));d[r]=i}else d[r]=void 0}u++}if(i)!function e(){setTimeout((function(){if(u>f)return i();h()||e()}),0)}();else for(;u<=f;){var m=h();if(m)return m}},pushComponent:function(e,t,n){var o=e[e.length-1];o&&o.added===t&&o.removed===n?e[e.length-1]={count:o.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},extractCommon:function(e,t,n,o){for(var r=t.length,i=n.length,s=e.newPos,a=s-o,l=0;s+1<r&&a+1<i&&this.equals(t[s+1],n[a+1]);)s++,a++,l++;return l&&e.components.push({count:l}),e.newPos=s,a},equals:function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}};var r=new t;function i(e,t){if("function"==typeof e)t.callback=e;else if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var s=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,a=/\S/,l=new t;l.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!a.test(e)&&!a.test(t)},l.tokenize=function(e){for(var t=e.split(/(\s+|[()[\]{}'"]|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&s.test(t[n])&&s.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t};var c=new t;function u(e,t,n){return c.diff(e,t,n)}c.tokenize=function(e){var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var o=0;o<n.length;o++){var r=n[o];o%2&&!this.options.newlineIsToken?t[t.length-1]+=r:(this.options.ignoreWhitespace&&(r=r.trim()),t.push(r))}return t};var f=new t;f.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var d=new t;function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}d.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};var m=Object.prototype.toString,g=new t;function v(e,t,n,o,r){var i,s;for(t=t||[],n=n||[],o&&(e=o(r,e)),i=0;i<t.length;i+=1)if(t[i]===e)return n[i];if("[object Array]"===m.call(e)){for(t.push(e),s=new Array(e.length),n.push(s),i=0;i<e.length;i+=1)s[i]=v(e[i],t,n,o,r);return t.pop(),n.pop(),s}if(e&&e.toJSON&&(e=e.toJSON()),"object"===p(e)&&null!==e){t.push(e),s={},n.push(s);var a,l=[];for(a in e)e.hasOwnProperty(a)&&l.push(a);for(l.sort(),i=0;i<l.length;i+=1)s[a=l[i]]=v(e[a],t,n,o,a);t.pop(),n.pop()}else s=e;return s}g.useLongestToken=!0,g.tokenize=c.tokenize,g.castInput=function(e){var t=this.options,n=t.undefinedReplacement,o=t.stringifyReplacer,r=void 0===o?function(e,t){return void 0===t?n:t}:o;return"string"==typeof e?e:JSON.stringify(v(e,null,null,r),r,"  ")},g.equals=function(e,n){return t.prototype.equals.call(g,e.replace(/,([\r\n])/g,"$1"),n.replace(/,([\r\n])/g,"$1"))};var _=new t;function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.split(/\r\n|[\n\v\f\r\x85]/),o=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],r=[],i=0;function s(){var e={};for(r.push(e);i<n.length;){var o=n[i];if(/^(\-\-\-|\+\+\+|@@)\s/.test(o))break;var s=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(o);s&&(e.index=s[1]),i++}for(a(e),a(e),e.hunks=[];i<n.length;){var c=n[i];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(c))break;if(/^@@/.test(c))e.hunks.push(l());else{if(c&&t.strict)throw new Error("Unknown line "+(i+1)+" "+JSON.stringify(c));i++}}}function a(e){var t=/^(---|\+\+\+)\s+(.*)$/.exec(n[i]);if(t){var o="---"===t[1]?"old":"new",r=t[2].split("\t",2),s=r[0].replace(/\\\\/g,"\\");/^".*"$/.test(s)&&(s=s.substr(1,s.length-2)),e[o+"FileName"]=s,e[o+"Header"]=(r[1]||"").trim(),i++}}function l(){for(var e=i,r=n[i++].split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),s={oldStart:+r[1],oldLines:+r[2]||1,newStart:+r[3],newLines:+r[4]||1,lines:[],linedelimiters:[]},a=0,l=0;i<n.length&&!(0===n[i].indexOf("--- ")&&i+2<n.length&&0===n[i+1].indexOf("+++ ")&&0===n[i+2].indexOf("@@"));i++){var c=0==n[i].length&&i!=n.length-1?" ":n[i][0];if("+"!==c&&"-"!==c&&" "!==c&&"\\"!==c)break;s.lines.push(n[i]),s.linedelimiters.push(o[i]||"\n"),"+"===c?a++:"-"===c?l++:" "===c&&(a++,l++)}if(a||1!==s.newLines||(s.newLines=0),l||1!==s.oldLines||(s.oldLines=0),t.strict){if(a!==s.newLines)throw new Error("Added line count did not match for hunk at line "+(e+1));if(l!==s.oldLines)throw new Error("Removed line count did not match for hunk at line "+(e+1))}return s}for(;i<n.length;)s();return r}function b(e,t,n){var o=!0,r=!1,i=!1,s=1;return function a(){if(o&&!i){if(r?s++:o=!1,e+s<=n)return s;i=!0}if(!r)return i||(o=!0),t<=e-s?-s++:(r=!0,a())}}function x(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof t&&(t=y(t)),Array.isArray(t)){if(t.length>1)throw new Error("applyPatch only works with a single input.");t=t[0]}var o,r,i=e.split(/\r\n|[\n\v\f\r\x85]/),s=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],a=t.hunks,l=n.compareLine||function(e,t,n,o){return t===o},c=0,u=n.fuzzFactor||0,f=0,d=0;function p(e,t){for(var n=0;n<e.lines.length;n++){var o=e.lines[n],r=o.length>0?o[0]:" ",s=o.length>0?o.substr(1):o;if(" "===r||"-"===r){if(!l(t+1,i[t],r,s)&&++c>u)return!1;t++}}return!0}for(var h=0;h<a.length;h++){for(var m=a[h],g=i.length-m.oldLines,v=0,_=d+m.oldStart-1,x=b(_,f,g);void 0!==v;v=x())if(p(m,_+v)){m.offset=d+=v;break}if(void 0===v)return!1;f=m.offset+m.oldStart+m.oldLines}for(var w=0,E=0;E<a.length;E++){var S=a[E],k=S.oldStart+S.offset+w-1;w+=S.newLines-S.oldLines,k<0&&(k=0);for(var $=0;$<S.lines.length;$++){var L=S.lines[$],C=L.length>0?L[0]:" ",F=L.length>0?L.substr(1):L,A=S.linedelimiters[$];if(" "===C)k++;else if("-"===C)i.splice(k,1),s.splice(k,1);else if("+"===C)i.splice(k,0,F),s.splice(k,0,A),k++;else if("\\"===C){var O=S.lines[$-1]?S.lines[$-1][0]:null;"+"===O?o=!0:"-"===O&&(r=!0)}}}if(o)for(;!i[i.length-1];)i.pop(),s.pop();else r&&(i.push(""),s.push("\n"));for(var T=0;T<i.length-1;T++)i[T]=i[T]+s[T];return i.join("")}function w(e,t,n,o,r,i,s){s||(s={}),void 0===s.context&&(s.context=4);var a=u(n,o,s);function l(e){return e.map((function(e){return" "+e}))}a.push({value:"",lines:[]});for(var c=[],f=0,d=0,p=[],m=1,g=1,v=function(e){var t=a[e],r=t.lines||t.value.replace(/\n$/,"").split("\n");if(t.lines=r,t.added||t.removed){var i;if(!f){var u=a[e-1];f=m,d=g,u&&(p=s.context>0?l(u.lines.slice(-s.context)):[],f-=p.length,d-=p.length)}(i=p).push.apply(i,h(r.map((function(e){return(t.added?"+":"-")+e})))),t.added?g+=r.length:m+=r.length}else{if(f)if(r.length<=2*s.context&&e<a.length-2){var v;(v=p).push.apply(v,h(l(r)))}else{var _,y=Math.min(r.length,s.context);(_=p).push.apply(_,h(l(r.slice(0,y))));var b={oldStart:f,oldLines:m-f+y,newStart:d,newLines:g-d+y,lines:p};if(e>=a.length-2&&r.length<=s.context){var x=/\n$/.test(n),w=/\n$/.test(o),E=0==r.length&&p.length>b.oldLines;!x&&E&&p.splice(b.oldLines,0,"\\ No newline at end of file"),(x||E)&&w||p.push("\\ No newline at end of file")}c.push(b),f=0,d=0,p=[]}m+=r.length,g+=r.length}},_=0;_<a.length;_++)v(_);return{oldFileName:e,newFileName:t,oldHeader:r,newHeader:i,hunks:c}}function E(e,t,n,o,r,i,s){var a=w(e,t,n,o,r,i,s),l=[];e==t&&l.push("Index: "+e),l.push("==================================================================="),l.push("--- "+a.oldFileName+(void 0===a.oldHeader?"":"\t"+a.oldHeader)),l.push("+++ "+a.newFileName+(void 0===a.newHeader?"":"\t"+a.newHeader));for(var c=0;c<a.hunks.length;c++){var u=a.hunks[c];l.push("@@ -"+u.oldStart+","+u.oldLines+" +"+u.newStart+","+u.newLines+" @@"),l.push.apply(l,u.lines)}return l.join("\n")+"\n"}function S(e,t){if(t.length>e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function k(e){var t=function e(t){var n=0,o=0;return t.forEach((function(t){if("string"!=typeof t){var r=e(t.mine),i=e(t.theirs);void 0!==n&&(r.oldLines===i.oldLines?n+=r.oldLines:n=void 0),void 0!==o&&(r.newLines===i.newLines?o+=r.newLines:o=void 0)}else void 0===o||"+"!==t[0]&&" "!==t[0]||o++,void 0===n||"-"!==t[0]&&" "!==t[0]||n++})),{oldLines:n,newLines:o}}(e.lines),n=t.oldLines,o=t.newLines;void 0!==n?e.oldLines=n:delete e.oldLines,void 0!==o?e.newLines=o:delete e.newLines}function $(e,t){if("string"==typeof e){if(/^@@/m.test(e)||/^Index:/m.test(e))return y(e)[0];if(!t)throw new Error("Must provide a base reference or pass in a patch");return w(void 0,void 0,t,e)}return e}function L(e){return e.newFileName&&e.newFileName!==e.oldFileName}function C(e,t,n){return t===n?t:(e.conflict=!0,{mine:t,theirs:n})}function F(e,t){return e.oldStart<t.oldStart&&e.oldStart+e.oldLines<t.oldStart}function A(e,t){return{oldStart:e.oldStart,oldLines:e.oldLines,newStart:e.newStart+t,newLines:e.newLines,lines:e.lines}}function O(e,t,n,o,r){var i={offset:t,lines:n,index:0},s={offset:o,lines:r,index:0};for(P(e,i,s),P(e,s,i);i.index<i.lines.length&&s.index<s.lines.length;){var a=i.lines[i.index],l=s.lines[s.index];if("-"!==a[0]&&"+"!==a[0]||"-"!==l[0]&&"+"!==l[0])if("+"===a[0]&&" "===l[0]){var c;(c=e.lines).push.apply(c,h(N(i)))}else if("+"===l[0]&&" "===a[0]){var u;(u=e.lines).push.apply(u,h(N(s)))}else"-"===a[0]&&" "===l[0]?R(e,i,s):"-"===l[0]&&" "===a[0]?R(e,s,i,!0):a===l?(e.lines.push(a),i.index++,s.index++):B(e,N(i),N(s));else T(e,i,s)}z(e,i),z(e,s),k(e)}function T(e,t,n){var o,r,i=N(t),s=N(n);if(M(i)&&M(s)){var a,l;if(S(i,s)&&H(n,i,i.length-s.length))return void(a=e.lines).push.apply(a,h(i));if(S(s,i)&&H(t,s,s.length-i.length))return void(l=e.lines).push.apply(l,h(s))}else if(r=s,(o=i).length===r.length&&S(o,r)){var c;return void(c=e.lines).push.apply(c,h(i))}B(e,i,s)}function R(e,t,n,o){var r,i=N(t),s=function(e,t){for(var n=[],o=[],r=0,i=!1,s=!1;r<t.length&&e.index<e.lines.length;){var a=e.lines[e.index],l=t[r];if("+"===l[0])break;if(i=i||" "!==a[0],o.push(l),r++,"+"===a[0])for(s=!0;"+"===a[0];)n.push(a),a=e.lines[++e.index];l.substr(1)===a.substr(1)?(n.push(a),e.index++):s=!0}if("+"===(t[r]||"")[0]&&i&&(s=!0),s)return n;for(;r<t.length;)o.push(t[r++]);return{merged:o,changes:n}}(n,i);s.merged?(r=e.lines).push.apply(r,h(s.merged)):B(e,o?s:i,o?i:s)}function B(e,t,n){e.conflict=!0,e.lines.push({conflict:!0,mine:t,theirs:n})}function P(e,t,n){for(;t.offset<n.offset&&t.index<t.lines.length;){var o=t.lines[t.index++];e.lines.push(o),t.offset++}}function z(e,t){for(;t.index<t.lines.length;){var n=t.lines[t.index++];e.lines.push(n)}}function N(e){for(var t=[],n=e.lines[e.index][0];e.index<e.lines.length;){var o=e.lines[e.index];if("-"===n&&"+"===o[0]&&(n="+"),n!==o[0])break;t.push(o),e.index++}return t}function M(e){return e.reduce((function(e,t){return e&&"-"===t[0]}),!0)}function H(e,t,n){for(var o=0;o<n;o++){var r=t[t.length-n+o].substr(1);if(e.lines[e.index+o]!==" "+r)return!1}return e.index+=n,!0}_.tokenize=function(e){return e.slice()},_.join=_.removeEmpty=function(e){return e},e.Diff=t,e.diffChars=function(e,t,n){return r.diff(e,t,n)},e.diffWords=function(e,t,n){return n=i(n,{ignoreWhitespace:!0}),l.diff(e,t,n)},e.diffWordsWithSpace=function(e,t,n){return l.diff(e,t,n)},e.diffLines=u,e.diffTrimmedLines=function(e,t,n){var o=i(n,{ignoreWhitespace:!0});return c.diff(e,t,o)},e.diffSentences=function(e,t,n){return f.diff(e,t,n)},e.diffCss=function(e,t,n){return d.diff(e,t,n)},e.diffJson=function(e,t,n){return g.diff(e,t,n)},e.diffArrays=function(e,t,n){return _.diff(e,t,n)},e.structuredPatch=w,e.createTwoFilesPatch=E,e.createPatch=function(e,t,n,o,r,i){return E(e,e,t,n,o,r,i)},e.applyPatch=x,e.applyPatches=function(e,t){"string"==typeof e&&(e=y(e));var n=0;!function o(){var r=e[n++];if(!r)return t.complete();t.loadFile(r,(function(e,n){if(e)return t.complete(e);var i=x(n,r,t);t.patched(r,i,(function(e){if(e)return t.complete(e);o()}))}))}()},e.parsePatch=y,e.merge=function(e,t,n){e=$(e,n),t=$(t,n);var o={};(e.index||t.index)&&(o.index=e.index||t.index),(e.newFileName||t.newFileName)&&(L(e)?L(t)?(o.oldFileName=C(o,e.oldFileName,t.oldFileName),o.newFileName=C(o,e.newFileName,t.newFileName),o.oldHeader=C(o,e.oldHeader,t.oldHeader),o.newHeader=C(o,e.newHeader,t.newHeader)):(o.oldFileName=e.oldFileName,o.newFileName=e.newFileName,o.oldHeader=e.oldHeader,o.newHeader=e.newHeader):(o.oldFileName=t.oldFileName||e.oldFileName,o.newFileName=t.newFileName||e.newFileName,o.oldHeader=t.oldHeader||e.oldHeader,o.newHeader=t.newHeader||e.newHeader)),o.hunks=[];for(var r=0,i=0,s=0,a=0;r<e.hunks.length||i<t.hunks.length;){var l=e.hunks[r]||{oldStart:1/0},c=t.hunks[i]||{oldStart:1/0};if(F(l,c))o.hunks.push(A(l,s)),r++,a+=l.newLines-l.oldLines;else if(F(c,l))o.hunks.push(A(c,a)),i++,s+=c.newLines-c.oldLines;else{var u={oldStart:Math.min(l.oldStart,c.oldStart),oldLines:0,newStart:Math.min(l.newStart+s,c.oldStart+a),newLines:0,lines:[]};O(u,l.oldStart,l.lines,c.oldStart,c.lines),i++,r++,o.hunks.push(u)}}return o},e.convertChangesToDMP=function(e){for(var t,n,o=[],r=0;r<e.length;r++)n=(t=e[r]).added?1:t.removed?-1:0,o.push([n,t.value]);return o},e.convertChangesToXML=function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n];o.added?t.push("<ins>"):o.removed&&t.push("<del>"),t.push((r=o.value,void 0,r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"))),o.added?t.push("</ins>"):o.removed&&t.push("</del>")}var r;return t.join("")},e.canonicalize=v,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){var o,r;void 0===(r="function"==typeof(o=function(){var e=!1;function t(e){this.opts=function(){for(var e=1;e<arguments.length;e++)for(var t in arguments[e])arguments[e].hasOwnProperty(t)&&(arguments[0][t]=arguments[e][t]);return arguments[0]}({},{onClose:null,onOpen:null,beforeOpen:null,beforeClose:null,stickyFooter:!1,footer:!1,cssClass:[],closeLabel:"Close",closeMethods:["overlay","button","escape"]},e),this.init()}function n(){this.modalBoxFooter&&(this.modalBoxFooter.style.width=this.modalBox.clientWidth+"px",this.modalBoxFooter.style.left=this.modalBox.offsetLeft+"px")}return t.prototype.init=function(){if(!this.modal)return function(){this.modal=document.createElement("div"),this.modal.classList.add("tingle-modal"),0!==this.opts.closeMethods.length&&-1!==this.opts.closeMethods.indexOf("overlay")||this.modal.classList.add("tingle-modal--noOverlayClose"),this.modal.style.display="none",this.opts.cssClass.forEach((function(e){"string"==typeof e&&this.modal.classList.add(e)}),this),-1!==this.opts.closeMethods.indexOf("button")&&(this.modalCloseBtn=document.createElement("button"),this.modalCloseBtn.type="button",this.modalCloseBtn.classList.add("tingle-modal__close"),this.modalCloseBtnIcon=document.createElement("span"),this.modalCloseBtnIcon.classList.add("tingle-modal__closeIcon"),this.modalCloseBtnIcon.innerHTML='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.3 9.7c.2.2.4.3.7.3.3 0 .5-.1.7-.3L5 6.4l3.3 3.3c.2.2.5.3.7.3.2 0 .5-.1.7-.3.4-.4.4-1 0-1.4L6.4 5l3.3-3.3c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0L5 3.6 1.7.3C1.3-.1.7-.1.3.3c-.4.4-.4 1 0 1.4L3.6 5 .3 8.3c-.4.4-.4 1 0 1.4z" fill="#000" fill-rule="nonzero"/></svg>',this.modalCloseBtnLabel=document.createElement("span"),this.modalCloseBtnLabel.classList.add("tingle-modal__closeLabel"),this.modalCloseBtnLabel.innerHTML=this.opts.closeLabel,this.modalCloseBtn.appendChild(this.modalCloseBtnIcon),this.modalCloseBtn.appendChild(this.modalCloseBtnLabel)),this.modalBox=document.createElement("div"),this.modalBox.classList.add("tingle-modal-box"),this.modalBoxContent=document.createElement("div"),this.modalBoxContent.classList.add("tingle-modal-box__content"),this.modalBox.appendChild(this.modalBoxContent),-1!==this.opts.closeMethods.indexOf("button")&&this.modal.appendChild(this.modalCloseBtn),this.modal.appendChild(this.modalBox)}.call(this),function(){this._events={clickCloseBtn:this.close.bind(this),clickOverlay:function(e){var t=this.modal.offsetWidth-this.modal.clientWidth,n=e.clientX>=this.modal.offsetWidth-15,o=this.modal.scrollHeight!==this.modal.offsetHeight;"MacIntel"===navigator.platform&&0==t&&n&&o||-1!==this.opts.closeMethods.indexOf("overlay")&&!function(e,t){for(;(e=e.parentElement)&&!e.classList.contains("tingle-modal"););return e}(e.target)&&e.clientX<this.modal.clientWidth&&this.close()}.bind(this),resize:this.checkOverflow.bind(this),keyboardNav:function(e){-1!==this.opts.closeMethods.indexOf("escape")&&27===e.which&&this.isOpen()&&this.close()}.bind(this)},-1!==this.opts.closeMethods.indexOf("button")&&this.modalCloseBtn.addEventListener("click",this._events.clickCloseBtn),this.modal.addEventListener("mousedown",this._events.clickOverlay),window.addEventListener("resize",this._events.resize),document.addEventListener("keydown",this._events.keyboardNav)}.call(this),document.body.appendChild(this.modal,document.body.firstChild),this.opts.footer&&this.addFooter(),this},t.prototype._busy=function(t){e=t},t.prototype._isBusy=function(){return e},t.prototype.destroy=function(){null!==this.modal&&(this.isOpen()&&this.close(!0),function(){-1!==this.opts.closeMethods.indexOf("button")&&this.modalCloseBtn.removeEventListener("click",this._events.clickCloseBtn),this.modal.removeEventListener("mousedown",this._events.clickOverlay),window.removeEventListener("resize",this._events.resize),document.removeEventListener("keydown",this._events.keyboardNav)}.call(this),this.modal.parentNode.removeChild(this.modal),this.modal=null)},t.prototype.isOpen=function(){return!!this.modal.classList.contains("tingle-modal--visible")},t.prototype.open=function(){if(!this._isBusy()){this._busy(!0);var e=this;return"function"==typeof e.opts.beforeOpen&&e.opts.beforeOpen(),this.modal.style.removeProperty?this.modal.style.removeProperty("display"):this.modal.style.removeAttribute("display"),this._scrollPosition=window.pageYOffset,document.body.classList.add("tingle-enabled"),document.body.style.top=-this._scrollPosition+"px",this.setStickyFooter(this.opts.stickyFooter),this.modal.classList.add("tingle-modal--visible"),"function"==typeof e.opts.onOpen&&e.opts.onOpen.call(e),e._busy(!1),this.checkOverflow(),this}},t.prototype.close=function(e){if(!this._isBusy()){if(this._busy(!0),"function"==typeof this.opts.beforeClose&&!this.opts.beforeClose.call(this))return void this._busy(!1);document.body.classList.remove("tingle-enabled"),document.body.style.top=null,window.scrollTo({top:this._scrollPosition,behavior:"instant"}),this.modal.classList.remove("tingle-modal--visible");var t=this;t.modal.style.display="none","function"==typeof t.opts.onClose&&t.opts.onClose.call(this),t._busy(!1)}},t.prototype.setContent=function(e){return"string"==typeof e?this.modalBoxContent.innerHTML=e:(this.modalBoxContent.innerHTML="",this.modalBoxContent.appendChild(e)),this.isOpen()&&this.checkOverflow(),this},t.prototype.getContent=function(){return this.modalBoxContent},t.prototype.addFooter=function(){return function(){this.modalBoxFooter=document.createElement("div"),this.modalBoxFooter.classList.add("tingle-modal-box__footer"),this.modalBox.appendChild(this.modalBoxFooter)}.call(this),this},t.prototype.setFooterContent=function(e){return this.modalBoxFooter.innerHTML=e,this},t.prototype.getFooterContent=function(){return this.modalBoxFooter},t.prototype.setStickyFooter=function(e){return this.isOverflow()||(e=!1),e?this.modalBox.contains(this.modalBoxFooter)&&(this.modalBox.removeChild(this.modalBoxFooter),this.modal.appendChild(this.modalBoxFooter),this.modalBoxFooter.classList.add("tingle-modal-box__footer--sticky"),n.call(this),this.modalBoxContent.style["padding-bottom"]=this.modalBoxFooter.clientHeight+20+"px"):this.modalBoxFooter&&(this.modalBox.contains(this.modalBoxFooter)||(this.modal.removeChild(this.modalBoxFooter),this.modalBox.appendChild(this.modalBoxFooter),this.modalBoxFooter.style.width="auto",this.modalBoxFooter.style.left="",this.modalBoxContent.style["padding-bottom"]="",this.modalBoxFooter.classList.remove("tingle-modal-box__footer--sticky"))),this},t.prototype.addFooterBtn=function(e,t,n){var o=document.createElement("button");return o.innerHTML=e,o.addEventListener("click",n),"string"==typeof t&&t.length&&t.split(" ").forEach((function(e){o.classList.add(e)})),this.modalBoxFooter.appendChild(o),o},t.prototype.resize=function(){console.warn("Resize is deprecated and will be removed in version 1.0")},t.prototype.isOverflow=function(){return window.innerHeight<=this.modalBox.clientHeight},t.prototype.checkOverflow=function(){this.modal.classList.contains("tingle-modal--visible")&&(this.isOverflow()?this.modal.classList.add("tingle-modal--overflow"):this.modal.classList.remove("tingle-modal--overflow"),!this.isOverflow()&&this.opts.stickyFooter?this.setStickyFooter(!1):this.isOverflow()&&this.opts.stickyFooter&&(n.call(this),this.setStickyFooter(!0)))},{modal:t}})?o.call(t,n,t,e):o)||(e.exports=r)},function(e,t,n){var o,r,i;r=[t],void 0===(i="function"==typeof(o=function(e){var t="scroll",n=Math.round,o={},r=function(){var e,r,i,s,a,l=document.getElementsByClassName("sync"+t);for(a in o)if(o.hasOwnProperty(a))for(e=0;e<o[a].length;e++)o[a][e].removeEventListener(t,o[a][e].syn,0);for(e=0;e<l.length;)if(s=r=0,a=(i=l[e++]).getAttribute("name")){for(i=i.scroller||i;r<(o[a]=o[a]||[]).length;)s|=o[a][r++]==i;s||o[a].push(i),i.eX=i.eY=0,function(e,r){e.addEventListener(t,e.syn=function(){if(null===e.getAttribute("no-scroll")){var t,i=o[r],s=e.scrollLeft,a=e.scrollTop,l=s/(e.scrollWidth-e.clientWidth),c=a/(e.scrollHeight-e.clientHeight),u=s!=e.eX,f=a!=e.eY,d=0;for(e.eX=s,e.eY=a;d<i.length;)(t=i[d++])!=e&&(u&&n(t.scrollLeft-(s=t.eX=n(l*(t.scrollWidth-t.clientWidth))))&&(t.scrollLeft=s),f&&n(t.scrollTop-(a=t.eY=n(c*(t.scrollHeight-t.clientHeight))))&&(t.scrollTop=a))}},0)}(i,a)}};"complete"==document.readyState?r():window.addEventListener("load",r,0),e.reset=r})?o.apply(t,r):o)||(e.exports=i)}]);